<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.7: http://docutils.sourceforge.net/" />
<title>Ngaro VM Implementation Status</title>
<link rel="stylesheet" href="/documentation.css" type="text/css" />
</head>
<body>
<div class="document" id="ngaro-vm-implementation-status">
<h1 class="title">Ngaro VM Implementation Status</h1>

<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="28%" />
<col width="6%" />
<col width="6%" />
<col width="6%" />
<col width="6%" />
<col width="6%" />
<col width="6%" />
<col width="6%" />
<col width="6%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Language</th>
<th class="head">File(s)</th>
<th class="head">A</th>
<th class="head">B</th>
<th class="head">C</th>
<th class="head">D</th>
<th class="head">E</th>
<th class="head">F</th>
<th class="head">G</th>
<th class="head">H</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>Assembly</td>
<td>retro.s</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
</tr>
<tr><td>C</td>
<td>retro.c</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
</tr>
<tr><td>C</td>
<td>libretro.c</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
</tr>
<tr><td>C#</td>
<td>retro.cs</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>X</td>
<td>x</td>
<td>x</td>
<td>x</td>
</tr>
<tr><td>F#</td>
<td>retro.fsx</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
</tr>
<tr><td>Forth</td>
<td>retro.fs</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>&nbsp;</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
</tr>
<tr><td>Go</td>
<td>go/</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
</tr>
<tr><td>Lisp</td>
<td>lisp/</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
</tr>
<tr><td>Java</td>
<td>retro.java</td>
<td>x</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>&nbsp;</td>
</tr>
<tr><td>Lua</td>
<td>retro.lua</td>
<td>x</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>&nbsp;</td>
</tr>
<tr><td>Perl</td>
<td>retro.pl</td>
<td>x</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>&nbsp;</td>
</tr>
<tr><td>PHP</td>
<td>retro.php</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
</tr>
<tr><td>Python</td>
<td>retro.py</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
</tr>
<tr><td>Retro</td>
<td>retro.rx</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
</tr>
<tr><td>Ruby</td>
<td>retro.rb</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>x</td>
</tr>
<tr><td>Scheme</td>
<td>retro.scm</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>x</td>
<td>x</td>
<td>&nbsp;</td>
</tr>
<tr><td>JavaScript</td>
<td>html5/*</td>
<td>x</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>&nbsp;</td>
<td>x</td>
<td>x</td>
<td>x</td>
<td>&nbsp;</td>
</tr>
</tbody>
</table>
<ol class="upperalpha simple">
<li>save image</li>
<li><strong>include</strong>, <strong>:include</strong>, <strong>needs</strong></li>
<li>file i/o</li>
<li><strong>getEnv</strong></li>
<li><strong>time</strong></li>
<li>passes core test suite</li>
<li>passes vocab test suite</li>
<li>passes file io test suite</li>
</ol>
<div class="section" id="notes-on-specific-implementations">
<h1>Notes on Specific Implementations</h1>
<div class="section" id="assembly">
<h2>Assembly</h2>
<p>This is for 32-bit x86 Linux systems.</p>
<p>If you have problems with the input (e.g., under PuTTY), try:</p>
<pre class="literal-block">
cat - | ./retro retroImage
</pre>
</div>
<div class="section" id="c">
<h2>C</h2>
<p>The C implementation is the oldest and most flexible of the VM
implementations. It is feature complete, can track opcode
and stack usage, and serves as the reference implementation.</p>
<p>This implementation can be built for 16-bit, 32-bit, or 64-bit
cell sizes in little or big endian. The default settings are for
a standard little endian, 32-bit image.</p>
<p>Add one of the following flags via CFLAGS to get a non-standard
configuration:</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Flag</th>
<th class="head">Usage</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>-DRX16</td>
<td>16-bit cells</td>
</tr>
<tr><td>-DRX64</td>
<td>32-bit cells</td>
</tr>
<tr><td>-DRXBE</td>
<td>Big endian cells</td>
</tr>
</tbody>
</table>
<p>To generate a non-standard image, use:</p>
<pre class="literal-block">
make images
</pre>
</div>
<div class="section" id="forth">
<h2>Forth</h2>
<p>The Forth VM is more of a virtualizer than an actual
virtual machine. It maps the image to the host memory,
and uses the standard Forth data stack and some native
functions. As such it needs to be used with an image
that matches your Forth's cell size.</p>
<p>There is no support for <strong>getEnv</strong> due to lack of a
standard function to access this in ANS Forth.</p>
<p>You can build 16-bit and 64-bit images using:</p>
<pre class="literal-block">
make images
</pre>
</div>
<div class="section" id="lua">
<h2>Lua</h2>
<p>The Lua implementation requires Lua JIT <em>or</em> Lua 5.2.
Earlier releases of Lua lack the bitwise operators. Note
that a single line needs to be altered in the source to
enable use under Lua 5.2.</p>
</div>
<div class="section" id="javascript">
<h2>JavaScript</h2>
<p>This implementation does not support <strong>include</strong>, <strong>needs</strong>,
<strong>getEnv</strong>, or the <strong>files'</strong> vocabulary. The scripts used
to build the retroImage.js now hide these functions.</p>
</div>
</div>
<div class="section" id="embedded-implementations">
<h1>Embedded Implementations</h1>
<p>Retro can be used on some development boards. There may be limitations to
the overall functionality, or special extensions to use features of the
target platforms. See the individual implementations for notes.</p>
<table border="1" class="docutils">
<colgroup>
<col width="33%" />
<col width="67%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">CPU</th>
<th class="head">Board</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>ARM</td>
<td>mbed LPX1768</td>
</tr>
<tr><td>AVR</td>
<td>arduino mega</td>
</tr>
<tr><td>PIC32</td>
<td>various</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="experimental-implementations">
<h1>Experimental Implementations</h1>
<p>These are all either non-standard in some way or remain mostly untested in
real-world applications.</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="27%" />
<col width="59%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">Language</th>
<th class="head">File(s)</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>C</td>
<td>retroht.c</td>
<td>Faster implementation using a hybrid
threading model.</td>
</tr>
<tr><td>C</td>
<td>retro-dynamic.c</td>
<td>Provides command line flags for altering
stack depth and memory size</td>
</tr>
<tr><td>C</td>
<td>sdl/</td>
<td>SDL 1.3 based Ngaro w/support for canvas</td>
</tr>
<tr><td>C</td>
<td>retro-sockets.c</td>
<td>Has the non-standard socket device from
Retro 10.x</td>
</tr>
<tr><td>Python</td>
<td>retro-skinless.py</td>
<td>Python implementation w/o file I/O for
use in testing the ShedSkin compiler</td>
</tr>
</tbody>
</table>
</div>
</div>
</body>
</html>
